import pygame
import random

# Inicializa o pygame
pygame.init()

# Configurações do jogo
LARGURA, ALTURA = 600, 600
tamanho_celula = 60
linhas, colunas = 10, 10

# Cores
BRANCO = (255, 255, 255)
PRETO = (0, 0, 0)
VERMELHO = (255, 0, 0)
AZUL = (0, 0, 255)
VERDE = (0, 255, 0)
CINZA = (192, 192, 192)

# Inicializa a tela
tela = pygame.display.set_mode((LARGURA, ALTURA))
pygame.display.set_caption("Zona Explosiva")

# Carrega a música de fundo
pygame.mixer.music.load("musica.mp3")
pygame.mixer.music.play(-1)  # Toca em loop

# Carrega as imagens
bomba_img = pygame.image.load("bomba.png")
bandeira_img = pygame.image.load("bandeira.png")
cobra_img = pygame.image.load("cobra.png")
buraco_img = pygame.image.load("buraco.png")
placa_perigo_img = pygame.image.load("placa_perigo.png")

# Redimensiona as imagens
bomba_img = pygame.transform.scale(bomba_img, (tamanho_celula, tamanho_celula))
bandeira_img = pygame.transform.scale(bandeira_img, (tamanho_celula, tamanho_celula))
cobra_img = pygame.transform.scale(cobra_img, (tamanho_celula, tamanho_celula))
buraco_img = pygame.transform.scale(buraco_img, (tamanho_celula, tamanho_celula))
placa_perigo_img = pygame.transform.scale(placa_perigo_img, (tamanho_celula, tamanho_celula))

# Gera tabuleiro
simbolos = ['bomba', 'bandeira', 'cobra', 'buraco', 'placa_perigo']
tabuleiro = [[random.choice(simbolos) for _ in range(colunas)] for _ in range(linhas)]

# Perguntas do jogo
perguntas = [
    {"pergunta": "Em que ano o Brasil declarou guerra ao Eixo?", "opcoes": ["1942", "1943", "1941", "1940"], "resposta": "1942"},
    {"pergunta": "Qual era o nome da tropa brasileira na Segunda Guerra?", "opcoes": ["FEB", "FAB", "FBI", "FBA"], "resposta": "FEB"},
    # Adicione mais 28 perguntas aqui
]
random.shuffle(perguntas)

# Variáveis do jogo
pontos = [100, 100]
vez = 0  # 0 para equipe 1, 1 para equipe 2

# Função para desenhar o tabuleiro
def desenhar_tabuleiro():
    for i in range(linhas):
        for j in range(colunas):
            x, y = j * tamanho_celula, i * tamanho_celula
            pygame.draw.rect(tela, BRANCO, (x, y, tamanho_celula, tamanho_celula), 1)
            simbolo = tabuleiro[i][j]
            if simbolo == 'bomba':
                tela.blit(bomba_img, (x, y))
            elif simbolo == 'bandeira':
                tela.blit(bandeira_img, (x, y))
            elif simbolo == 'cobra':
                tela.blit(cobra_img, (x, y))
            elif simbolo == 'buraco':
                tela.blit(buraco_img, (x, y))
            else:
                tela.blit(placa_perigo_img, (x, y))

# Função para exibir pergunta
def exibir_pergunta():
    if perguntas:
        pergunta_atual = perguntas.pop()
        print(pergunta_atual["pergunta"])
        for i, opcao in enumerate(pergunta_atual["opcoes"]):
            print(f"{i + 1}. {opcao}")
        resposta = input("Escolha a opção correta (1-4): ")
        if pergunta_atual["opcoes"][int(resposta) - 1] == pergunta_atual["resposta"]:
            pontos[vez] += 10
        else:
            pontos[vez] -= 5
    else:
        print("Todas as perguntas foram respondidas!")

# Loop do jogo
rodando = True
while rodando:
    tela.fill(PRETO)
    desenhar_tabuleiro()
    pygame.display.flip()
    
    for evento in pygame.event.get():
        if evento.type == pygame.QUIT:
            rodando = False
        if evento.type == pygame.MOUSEBUTTONDOWN:
            x, y = evento.pos
            coluna, linha = x // tamanho_celula, y // tamanho_celula
            if tabuleiro[linha][coluna] == 'bandeira':
                exibir_pergunta()
                vez = 1 - vez  # Alterna a vez

pygame.quit()

